/*
 * 자동차
 * 
 * - 자동차 번호
 * - 자동차 브랜드
 * - 출시 날짜
 * - 색상
 * - 가격
 * 
 * */

CREATE TABLE TBL_CAR(
	CAR_ID NUMBER,
	CAR_BRAND VARCHAR2(1000),
	CAR_RELEASE_DATE DATE,
	CAR_COLOR VARCHAR2(1000),
	CAR_PRICE NUMBER,
	CONSTRAINT PK_CAR PRIMARY KEY(CAR_ID)
);

CREATE TABLE TBL_CAR(
	CAR_ID NUMBER CONSTRAINT PK_CAR PRIMARY KEY,
	CAR_BRAND VARCHAR2(1000),
	CAR_RELEASE_DATE DATE,
	CAR_COLOR VARCHAR2(1000),
	CAR_PRICE NUMBER
);

DROP TABLE TBL_CAR;

ALTER TABLE TBL_CAR DROP CONSTRAINT PK_CAR;
ALTER TABLE TBL_CAR ADD CONSTRAINT PK_CAR PRIMARY KEY(CAR_ID);

/*
 * 동물 테이블 생성
 * 
 * - 고유 번호
 * - 종류
 * - 나이
 * - 먹이
 * 
 * */

CREATE TABLE TBL_WILD_ANIMAL(
	ANIMAL_ID NUMBER CONSTRAINT PK_WILD_ANIMAL PRIMARY KEY,
	ANIMAL_SPECIES_CODE NUMBER,
	ANIMAL_AGE NUMBER,
	ANIMAL_FOOD VARCHAR2(1000)
);

CREATE TABLE TBL_ANIMAL_SPECIES(
	SPECIES_ID NUMBER CONSTRAINT PK_ANIMAL_SPECIES PRIMARY KEY,
	SPECIES_NAME VARCHAR2(1000)
);

DROP TABLE TBL_WILD_ANIMAL;

/*
 * 학생 테이블 생성
 * 
 * - 학생 번호
 * - 학생 아이디
 * - 학생 이름
 * - 전공
 * - 성별
 * - 생년월일
 * - (추가) 학생 나이 NOT NULL, DEFAULT는 생년월일로 계산된 나이, 19보다 커야한다
 * - (추가) 학생 학점 (A+ ~ F) 'A+', 'A', 'B+', 'B', 'C+', 'C', 'D+', 'D', 'F'
 *  
 * */

CREATE TABLE TBL_STUDENT(
	STUDENT_ID NUMBER CONSTRAINT PK_STUDENT PRIMARY KEY,
	STUDENT_IDENTIFICATION VARCHAR2(1000) CONSTRAINT UK_STUDENT UNIQUE,
	STUDENT_NAME VARCHAR2(1000) CONSTRAINT REQUIRE_NAME NOT NULL,
	STUDENT_MAJOR_CODE NUMBER CONSTRAINT REQUIRE_MAJOR NOT NULL,
	STUDENT_GENDER CHAR(1) DEFAULT 'N' CONSTRAINT BAN_CHAR CHECK(STUDENT_GENDER IN('M', 'F', 'N')) CONSTRAINT REQUIRE_GENDER NOT NULL,
	STUDENT_BIRTH DATE CONSTRAINT BAN_DATE CHECK(STUDENT_BIRTH >= TO_DATE('1985-01-01', 'YYYY-MM-DD')) CONSTRAINT REQUIRE_BIRTH NOT NULL
);

-- 제약조건 추가/변경/삭제
ALTER TABLE TBL_STUDENT MODIFY STUDENT_IDENTIFICATION CONSTRAINT REQUIRE_IDENTIFICATION NOT NULL;
--ALTER TABLE TBL_STUDENT DROP CONSTRAINT SYS_C007418;
ALTER TABLE TBL_STUDENT DROP CONSTRAINT BAN_CHAR;
ALTER TABLE TBL_STUDENT ADD CONSTRAINT BAN_CHAR CHECK(STUDENT_GENDER IN ('M', 'W', 'N'));
ALTER TABLE TBL_STUDENT MODIFY STUDENT_GENDER DEFAULT 'W';

-- 제약조건 추가/변경/삭제(실습)
ALTER TABLE TBL_STUDENT MODIFY STUDENT_AGE CONSTRAINT REQUIRE_AGE NOT NULL;
ALTER TABLE TBL_STUDENT ADD CONSTRAINT BAN_GRADE CHECK(STUDENT_GRADE IN('A+', 'A', 'B+', 'B', 'C+', 'C', 'D+', 'D', 'F'));

-- 컬럼 추가
ALTER TABLE TBL_STUDENT ADD(STUDENT_AGE NUMBER);
ALTER TABLE TBL_STUDENT ADD(STUDENT_GRADE VARCHAR(10));

SELECT * FROM TBL_STUDENT;










