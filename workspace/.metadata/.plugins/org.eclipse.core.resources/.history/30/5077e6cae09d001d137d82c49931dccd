CREATE SEQUENCE SEQ_REPLY;

CREATE TABLE TBL_REPLY(
	REPLY_ID NUMBER CONSTRAINT PK_REPLY PRIMARY KEY,
	REPLY_CONTENT VARCHAR2(1000) NOT NULL,
	REPLY_REGISTER_DATE DATE DEFAULT SYSDATE,
	REPLY_UPDATE_DATE DATE DEFAULT SYSDATE,
	REPLY_GROUP NUMBER NOT NULL,
	REPLY_DEPTH NUMBER NOT NULL,
	USER_ID NUMBER NOT NULL,
	BOARD_ID NUMBER NOT NULL,
	CONSTRAINT FK_REPLY_USER FOREIGN KEY(USER_ID) REFERENCES TBL_USER(USER_ID) ON DELETE CASCADE,
	CONSTRAINT FK_REPLY_BOARD FOREIGN KEY(BOARD_ID) REFERENCES TBL_BOARD(BOARD_ID) ON DELETE CASCADE
);

DROP TABLE TBL_REPLY ;

SELECT r.REPLY_ID, r.REPLY_CONTENT, r.REPLY_REGISTER_DATE, r.REPLY_UPDATE_DATE, r.REPLY_GROUP, r.REPLY_DEPTH, r.USER_ID, r.BOARD_ID,
u.USER_IDENTIFICATION, u.USER_NAME, u.USER_NICKNAME, u.USER_EMAIL, u.USER_GENDER, u.USER_RECOMMEND_COUNT
FROM TBL_USER u JOIN TBL_REPLY r
ON u.USER_ID = r.USER_ID;

SELECT USER_IDENTIFICATION, USER_NAME, USER_NICKNAME, USER_EMAIL, USER_GENDER, USER_RECOMMEND_COUNT
FROM TBL_USER;

UPDATE TBL_REPLY
SET REPLY_CONTENT='', REPLY_REGISTER_DATE=SYSDATE, REPLY_UPDATE_DATE=SYSDATE, REPLY_GROUP=0, REPLY_DEPTH=0, USER_ID=0, BOARD_ID=0
WHERE REPLY_ID=0;

INSERT INTO TBL_REPLY
(REPLY_ID, REPLY_CONTENT, REPLY_REGISTER_DATE, REPLY_UPDATE_DATE, REPLY_GROUP, REPLY_DEPTH, USER_ID, BOARD_ID)
VALUES(SEQ_REPLY.NEXTVAL, '알찬 하루였다', SYSDATE, SYSDATE, 1, 0, 3, 1);


INSERT INTO

SELECT SEQ_REPLY.NEXTVAL FROM DUAL;
SELECT SEQ_REPLY.CURRVAL FROM DUAL;
